{"version":3,"names":[],"mappings":"","sources":["fetch_image_slider.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n    fetch(\"https://hifi-corner.herokuapp.com/api/v1/products\", {\r\n        \"method\": \"GET\",\r\n\r\n     })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n\r\n            let sliderSection = document.querySelector('.image-slider__container_image');\r\n            data.forEach(products => {\r\n\r\n                let section = document.createElement('section');\r\n                section.className = \"mySlides\";\r\n                section.setAttribute('data-id', products.sku);\r\n                section.innerHTML = ` \r\n                <div class=\"image-slider__container\">\r\n                        <div class=\"image-slider__text\">\r\n                        ${products.model}\r\n                    </div>\r\n                        <div class=\"fade\">\r\n                        <a href=\"/shop_kategorier/?brand=${products.make}\">\r\n                        <img src=\"${products.images[0]}\" class=\"pics\" alt=\"${products.model}\" /></a>\r\n                        </div>\r\n                </div>\r\n            `;\r\n                sliderSection.appendChild(section);\r\n            });\r\n        })\r\n        .then(() => {\r\n\r\n            var slideIndex = 0;\r\n            showSlides();\r\n\r\n            let prev = document.querySelector(\"#prev\");\r\n            let next = document.querySelector(\"#next\");\r\n\r\n            prev.addEventListener(\"click\", nextSlide);\r\n            function nextSlide() {\r\n                plusSlides(-1);\r\n            }\r\n\r\n            next.addEventListener(\"click\", nextSlide);\r\n            function nextSlide() {\r\n                plusSlides(1);\r\n            }\r\n\r\n            var slides, timer;\r\n\r\n            function showSlides() {\r\n                var i;\r\n                slides = document.getElementsByClassName(\"mySlides\");\r\n                for (i = 0; i < slides.length; i++) {\r\n                    slides[i].style.display = \"none\";\r\n                }\r\n                slideIndex++;\r\n                if (slideIndex > slides.length) { slideIndex = 1 }\r\n                slides[slideIndex - 1].style.display = \"block\";\r\n\r\n                timer = setTimeout(showSlides, 4000); // antal milisekunder pr. billede\r\n            }\r\n\r\n            function plusSlides(position) {\r\n                //stopper timeren ved klik\r\n                clearTimeout(timer);\r\n                slideIndex += position;\r\n                if (slideIndex > slides.length) { slideIndex = 1 }\r\n                else if (slideIndex < 1) { slideIndex = slides.length }\r\n                for (i = 0; i < slides.length; i++) {\r\n                    slides[i].style.display = \"none\";\r\n                }\r\n\r\n                slides[slideIndex - 1].style.display = \"block\";\r\n\r\n                // laver en ny timer\r\n                timer = setTimeout(showSlides, 4000);\r\n            }\r\n\r\n            function currentSlide(index) {\r\n                //stopper timeren ved klik\r\n                clearTimeout(timer);\r\n                if (index > slides.length) { index = 1 }\r\n                else if (index < 1) { index = slides.length }\r\n                //sÃ¦t slideIndex med index af funktionen\r\n                slideIndex = index;\r\n                for (i = 0; i < slides.length; i++) {\r\n                    slides[i].style.display = \"none\";\r\n                }\r\n\r\n                slides[index - 1].style.display = \"block\";\r\n\r\n                // laver en ny timer\r\n                timer = setTimeout(showSlides, 4000);\r\n            }\r\n\r\n        })\r\n\r\n});"],"file":"fetch_image_slider.js"}