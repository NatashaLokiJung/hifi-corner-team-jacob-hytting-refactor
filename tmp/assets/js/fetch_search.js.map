{"version":3,"sources":["fetch_search.js"],"names":["current_URL","window","location","search","search_params","URLSearchParams","params_search","get","fetch","then","response","json","data","shop_box","document","querySelector","breadcrumbs_text","currentPageTitle","current_data","filterSearch","products","arr","filter","el","name","indexOf","category","brand","console","log","innerHTML","forEach","product","shop_varer","createElement","className","setAttribute","id","image_folder","image","appendChild"],"mappings":";;AAEI,IAAIA,WAAW,GAAGC,MAAM,CAACC,QAAP,CAAgBC,MAAlC;AACA,IAAIC,aAAa,GAAG,IAAIC,eAAJ,CAAoBL,WAApB,CAApB;AACA,IAAIM,aAAa,GAAGF,aAAa,CAACG,GAAd,CAAkB,WAAlB,CAApB;AAEAC,KAAK,CAAC,mDAAD,EAAsD;AACvD,YAAU,KAD6C;AAEvD,aAAW;AAF4C,CAAtD,CAAL,CAIKC,IAJL,CAIU,UAAAC,QAAQ;AAAA,SAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,CAJlB,EAKKF,IALL,CAKU,UAAAG,IAAI,EAAI;AAEd,MAAIC,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,wBAAvB,CAAf;AACA,MAAIC,gBAAgB,GAAGF,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAvB;AACA,MAAIE,gBAAgB,GAAGH,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,CAAvB;AACA,MAAIG,YAAY,GAAGC,YAAY,CAACP,IAAI,CAACQ,QAAN,EAAgBd,aAAhB,CAA/B;;AAEA,WAASa,YAAT,CAAsBE,GAAtB,EAA2BlB,MAA3B,EAAmC;AAC/B,WAAOkB,GAAG,CAACC,MAAJ,CAAW,UAASC,EAAT,EAAa;AAC3B,aAAQA,EAAE,CAACC,IAAH,CAAQC,OAAR,CAAgBtB,MAAhB,MAA4B,CAAC,CAA7B,IAAkCoB,EAAE,CAACG,QAAH,CAAYD,OAAZ,CAAoBtB,MAApB,MAAgC,CAAC,CAAnE,IAAwEoB,EAAE,CAACI,KAAH,CAASF,OAAT,CAAiBtB,MAAjB,MAA6B,CAAC,CAA9G;AACH,KAFM,CAAP;AAGH;;AAEDyB,EAAAA,OAAO,CAACC,GAAR,CAAYX,YAAZ;;AAEA,MAAIZ,aAAJ,EAAmB;AACfU,IAAAA,gBAAgB,CAACc,SAAjB,mIAAgJxB,aAAhJ;AACAW,IAAAA,gBAAgB,CAACa,SAAjB,aAAgCxB,aAAhC;AACH;;AAEDY,EAAAA,YAAY,CAACa,OAAb,CAAqB,UAAAC,OAAO,EAAI;AAE5B,QAAIC,UAAU,GAAGnB,QAAQ,CAACoB,aAAT,CAAuB,KAAvB,CAAjB;AACAD,IAAAA,UAAU,CAACE,SAAX,GAAuB,uBAAvB;AACAF,IAAAA,UAAU,CAACG,YAAX,YAAmCJ,OAAO,CAACK,EAA3C;AAEAJ,IAAAA,UAAU,CAACH,SAAX,0JAE4EE,OAAO,CAACM,YAFpF,cAEoGN,OAAO,CAACO,KAF5G,qGAI+BP,OAAO,CAACR,IAJvC,uGAKuEQ,OAAO,CAACK,EAL/E;AAQAxB,IAAAA,QAAQ,CAAC2B,WAAT,CAAqBP,UAArB;AACH,GAfD;AAgBH,CAzCD","sourcesContent":["\n\n    let current_URL = window.location.search;\n    let search_params = new URLSearchParams(current_URL);\n    let params_search = search_params.get(\"searchbar\");\n\n    fetch(\"https://hifi-corner.herokuapp.com/api/v1/products\", {\n        \"method\": \"GET\",\n        \"headers\": {}\n    })\n        .then(response => response.json())\n        .then(data => {\n\n        let shop_box = document.querySelector(\".shop__kategorier_nest\");\n        let breadcrumbs_text = document.querySelector(\".breadcrumbs\");\n        let currentPageTitle = document.querySelector(\".currentpage-titel\");\n        let current_data = filterSearch(data.products, params_search);\n\n        function filterSearch(arr, search) {\n            return arr.filter(function(el) {\n                return (el.name.indexOf(search) !== -1 || el.category.indexOf(search) !== -1 || el.brand.indexOf(search) !== -1)\n            });\n        }\n        \n        console.log(current_data);\n\n        if (params_search) {\n            breadcrumbs_text.innerHTML = `<span class=\"breadcrumbs__home\"><a href=\"kategoriliste.html\" class=\"breadcrumbs__home_active\">Home</a></span> / ${params_search}</a></span>`;\n            currentPageTitle.innerHTML = `${params_search}`;\n        }\n\n        current_data.forEach(product => {\n\n            let shop_varer = document.createElement(\"div\");\n            shop_varer.className = \"shopkategorier__varer\";\n            shop_varer.setAttribute(`data-id`, product.id);\n\n            shop_varer.innerHTML = `\n            <div class=\"shop__kategorier_box\">\n                <img class=\"shop__kategorier_varebillede\" src=\"images/produktbilleder/${product.image_folder}/${product.image}\" alt=\"varebillede\">\n            </div>\n                <p class=\"product__text\">${product.name}</p>\n                <a class=\"putinbasket button_brown-button\" href=\"product.html?id=${product.id}\">ADD TO CART</a>\n            `;\n\n            shop_box.appendChild(shop_varer);\n        });\n    });\n"],"file":"fetch_search.js"}