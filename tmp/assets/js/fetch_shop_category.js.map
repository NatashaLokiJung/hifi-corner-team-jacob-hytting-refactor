{"version":3,"names":[],"mappings":"","sources":["fetch_shop_category.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function (){\r\n\r\n    let current_URL = window.location.search;\r\n    let search_params = new URLSearchParams(current_URL);\r\n    let params_category = search_params.get(\"category\");\r\n\r\n    fetch(\"https://hifi-corner.herokuapp.com/api/v1/products\", {\r\n  \"method\": \"GET\",\r\n \r\n})\r\n\r\n    .then(response => response.json())\r\n    .then(data => {\r\n\r\n        let shop_box = document.querySelector(\".shop__kategorier_nest\");\r\n        let breadcrumbs_text = document.querySelector(\".breadcrumbs\");\r\n        let currentPageTitle = document.querySelector(\".currentpage-titel\")\r\n        let current_data;\r\n\r\n        if (params_category == \"Shop by brand\" || params_category == \"Shop now\") {\r\n            current_data = data;\r\n        }\r\n        else {\r\n            current_data = data.filter(product => product.category == params_category);\r\n        }\r\n\r\n        if (params_category) {\r\n            breadcrumbs_text.innerHTML = `<span class=\"breadcrumbs__home\"><a href=\"/kategoriliste\" class=\"breadcrumbs__home_active\">Home</a></span> / ${params_category}</a></span>`;\r\n            currentPageTitle.innerHTML = `${params_category}`;\r\n        }\r\n\r\n        current_data.forEach(product => {\r\n\r\n            let shop_varer = document.createElement(\"div\");\r\n            shop_varer.className = \"shopkategorier__varer\";\r\n            shop_varer.setAttribute(`data-id`, product.sku);\r\n\r\n            shop_varer.innerHTML = `\r\n            <div class=\"shop__kategorier_box\">\r\n                <img class=\"shop__kategorier_varebillede\" src=\"${product.images[0]}\" alt=\"varebillede\">\r\n            </div>\r\n                <p class=\"product__text\">${product.model}</p>\r\n            <div class=\"price-boxes\">\r\n                <p class=\"product__pricesale\">${product.price}</p>\r\n                \r\n            </div>\r\n                <a class=\"putinbasket button_brown-button\" href=\"/product/?id=${product.sku}\">ADD TO CART</a>\r\n            `;\r\n\r\n            shop_box.appendChild(shop_varer);\r\n        });\r\n    });\r\n});"],"file":"fetch_shop_category.js"}