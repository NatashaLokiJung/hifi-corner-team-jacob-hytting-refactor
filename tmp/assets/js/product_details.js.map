{"version":3,"sources":["product_details.js"],"names":["document","addEventListener","current_URL","window","location","search","search_params","URLSearchParams","params_id","parseInt","get","fetch","then","response","json","data","current_data","products","find","product","id","product_box","querySelector","product_preview","createElement","product_description","product_cart","product_info","product_details","product_call","h4","className","innerHTML","category","name","appendChild","image_folder","image","brand","price","sale","description","arrays","finish","forEach","product_variant","variant_box","text","info","info_table","table_row","value","detail","detail_table","preview","imgs","Array","from","querySelectorAll","thumb","thumbSrc","firstChild","getAttribute","setAttribute","paypal","Button","render","env","client","sandbox","production","locale","style","size","color","shape","commit","payment","actions","create","transactions","amount","total","currency","onAuthorize","execute","alert"],"mappings":"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","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n\n    let current_URL = window.location.search;\n    let search_params = new URLSearchParams(current_URL);\n    let params_id = parseInt(search_params.get(\"id\"));\n\n    fetch(\"https://hifi-corner.herokuapp.com/api/v1/products\")\n        .then(response => response.json())\n        .then(data => {\n\n            let current_data = data.products.find(product => product.id == params_id);\n            let product_box = document.querySelector(\".product-box\");\n            let product_preview = document.createElement(\"article\");\n            let product_description = document.createElement(\"article\");\n            let product_cart = document.createElement(\"article\");\n            let product_info = document.createElement(\"article\");\n            let product_details = document.createElement(\"article\");\n            let product_call = document.createElement(\"article\");\n            let h4 = document.createElement(\"h4\");\n\n            h4.className = \"product-breadcrumbs\"\n            h4.innerHTML = `<a href=\"kategoriliste.html\" class=\"breadcrumbs__home_active\">Home</a> / \n                            <a href=\"shop_kategorier.html?category=${current_data.category}\" class=\"breadcrumbs__home_active\">${current_data.category}</a> \n                            / ${current_data.name}`;\n\n            product_box.appendChild(h4);\n\n            product_preview.className = \"product-preview\";\n            product_preview.innerHTML = `\n                <div class=\"preview-box\">\n                \n                    <div class=\"preview__image-box\">\n                        <img class=\"image-box__image\" src=\"images/produktbilleder/${current_data.image_folder}/${current_data.image}\">\n                    </div>\n\n                    <h2 class=\"heading__preview-text\">more views</h2>\n\n                    <ul class=\"thumb-list preview-box__thumb-list\">\n                        <li class=\"thumb\"><img class=\"thumb__image\" src=\"images/produktbilleder/${current_data.image_folder}/${current_data.image}\"></li>\n                        <li class=\"thumb\"><img class=\"thumb__image\" src=\"images/category_list/cat_amplifyer.jpg\"></li>\n                        <li class=\"thumb\"><img class=\"thumb__image\" src=\"images/category_list/cat_cd_players.jpg\"></li>\n                        <li class=\"thumb\"><img class=\"thumb__image\" src=\"images/category_list/cat_vinyl.jpg\"></li>\n                    </ul>\n                </div>\n            `;\n\n            product_box.appendChild(product_preview);\n\n            product_description.className = \"product-description\";\n            product_description.innerHTML = `\n                <h2 class=\"heading__product-name\">${current_data.name}</h2>\n                <h4 class=\"link link__brand-link\">See other ${current_data.brand} products</h4>\n                <div class=\"price-box\">\n                <h3 class=\"heading__product-price\">${current_data.price}</h3>\n                <h2 class=\"heading__product-sale\">${current_data.sale}</h2>               \n                </div>\n                <p class=\"text__product-description\">${current_data.description}</p>\n\n                <ul class=\"button-list product__button-list\">\n                    <li class=\"button-list__item\"><a class=\"button button_brown-button\">ask a question</a></li>\n                    <li class=\"button-list__item\"><a class=\"button button_brown-button\">part exchange</a></li>\n                    <li class=\"button-list__item\"><a class=\"button button_brown-button\">pay by finance</a></li>\n                    <li class=\"button-list__item\"><a class=\"button button_brown-button\">seen a better price?</a></li>\n                </ul>\n            `;\n\n            product_box.appendChild(product_description);\n\n            product_cart.className = \"product-cart\";\n            product_cart.innerHTML = `\n                <form class=\"product-form\">\n\n                    <fieldset class=\"product-form__variant\">\n\n                        <h3 class=\"product-variant__title\">Finish <span class=\"star\">*</span></h3>\n                        \n                        <div class=\"fetch-variant\"></div>\n\n                    </fieldset>\n\n                    <fieldset class=\"product-form__quantity\">\n\n                        <div class=\"product-form__quantity-box\">\n                            <label class=\"product-quantity__label\">Qty:</label>\n                            <input class=\"product-quantity__input\" type=\"number\" oninput=\"this.value=this.value.slice(0,this.maxLength)\" onkeypress=\"return isNumberKey(event)\" maxlength=\"2\" min=\"1\" max=\"99\" name=\"quantity\" value=\"1\">\n                            <button class=\"button product-form__submit button_brown-button\" type=\"submit\">add to cart</button>\n                            <p class=\"or\">-or-</p>\n                            <div class=\"paypal-button\" id=\"paypal-button\"></div>\n                        </div>\n\n                    </fieldset>\n\n                </form>\n            `;\n\n            product_box.appendChild(product_cart);\n\n            current_data.arrays.finish.forEach(finish => {\n                let product_variant = document.querySelector(\".fetch-variant\")\n                let variant_box = document.createElement(\"div\");\n\n                variant_box.className = \"product-variant__variant-box\"\n                variant_box.innerHTML = `\n                    <input class=\"product-variant__input\" type=\"radio\" name=\"variant\" value=\"${finish.text}\">\n                    <label class=\"product-varaint__label\" for=\"black\">${finish.text}</label>\n                `;\n\n                product_variant.appendChild(variant_box);\n\n            });\n\n            product_info.className = \"product-info\";\n            product_info.innerHTML = `\n                <h2 class=\"heading__product-info\">additional information</h2>\n\n                <table class=\"info-table product-info__info-table\"></table>\n            `;\n\n            product_box.appendChild(product_info);\n\n            current_data.arrays.info.forEach(info => {\n                let info_table = document.querySelector(\".product-info__info-table\");\n                let table_row = document.createElement(\"tr\");\n\n                table_row.className = \"info-table__table-row\";\n                table_row.innerHTML = `\n                    <td class=\"info-table__data-title\">${info.text}</td>\n                    <td class=\"info-table__data-value\">${info.value}</td>\n                `;\n\n                info_table.appendChild(table_row);\n            });\n\n            product_details.className = \"product-details\"\n            product_details.innerHTML = `\n                <h2 class=\"heading__product-details\">description</h2>\n\n                <table class=\"table product-detail__detail-table\"></table>\n            `;\n\n            product_box.appendChild(product_details);\n\n            current_data.arrays.detail.forEach(detail => {\n                let detail_table = document.querySelector(\".product-detail__detail-table\");\n                let table_row = document.createElement(\"tr\");\n\n                table_row.className = \"detail-table__row\";\n                table_row.innerHTML = `\n                    <td class=\"detail-table__data-title\">${detail.text}</td>\n                    <td class=\"detail-table__data-value\">${detail.value}</td>\n                `;\n\n                detail_table.appendChild(table_row);\n            });\n\n            product_call.className = \"product-call\";\n            product_call.innerHTML = `\n                <article class=\"product-call\">\n                    <button class=\"product-call__button\" href=\"tel:888-888\"><i class=\"fas fa-phone-alt\"></i> CALL US ABOUT THIS PRODUCT</button>\n                </article>\n            `;\n\n            product_box.appendChild(product_call);\n        })\n        .then(() => {\n\n            let preview = document.querySelector(\".image-box__image\");\n            var imgs = Array.from(document.querySelectorAll(\".thumb\"));\n            \n            imgs.forEach(thumb => {\n        \n                let thumbSrc = thumb.firstChild.getAttribute(\"src\");\n                \n                thumb.addEventListener(\"click\", () => {\n        \n                    preview.setAttribute(\"src\", thumbSrc);\n                })\n            });\n        })\n        .then(() => {\n            paypal.Button.render({\n                // Configure environment\n                env: 'sandbox',\n                client: {\n                  sandbox: 'demo_sandbox_client_id',\n                  production: 'demo_production_client_id'\n                },\n                // Customize button (optional)\n                locale: 'en_US',\n                style: {\n                  size: 'small',\n                  color: 'gold',\n                  shape: 'pill',\n                },\n            \n                // Enable Pay Now checkout flow (optional)\n                commit: true,\n            \n                // Set up a payment\n                payment: function(data, actions) {\n                  return actions.payment.create({\n                    transactions: [{\n                      amount: {\n                        total: '0.01',\n                        currency: 'USD'\n                      }\n                    }]\n                  });\n                },\n                // Execute the payment\n                onAuthorize: function(data, actions) {\n                  return actions.payment.execute().then(function() {\n                    // Show a confirmation message to the buyer\n                    window.alert('Thank you for your purchase!');\n                  });\n                }\n              }, '#paypal-button');\n        })\n});"],"file":"product_details.js"}