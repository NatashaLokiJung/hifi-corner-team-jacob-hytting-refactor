{"version":3,"names":[],"mappings":"","sources":["product_details.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n\r\n    let current_URL = window.location.search;\r\n    let search_params = new URLSearchParams(current_URL);\r\n    let params_id = parseInt(search_params.get(\"id\"));\r\n\r\n    fetch(\"https://hifi-corner.herokuapp.com/api/v1/products\", {\r\n        \"method\": \"GET\",\r\n        \r\n    })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n\r\n            let current_data = data.find(product => product.sku == params_id);\r\n            let product_box = document.querySelector(\".product-box\");\r\n            let product_preview = document.createElement(\"article\");\r\n            let product_description = document.createElement(\"article\");\r\n            let product_cart = document.createElement(\"article\");\r\n            let product_info = document.createElement(\"article\");\r\n            let product_details = document.createElement(\"article\");\r\n            let product_call = document.createElement(\"article\");\r\n            let h4 = document.createElement(\"h4\");\r\n\r\n            h4.className = \"product-breadcrumbs\"\r\n            h4.innerHTML = `<a href=\"/kategoriliste\" class=\"breadcrumbs__home_active\">Home</a> / \r\n                            <a href=\"/shop_kategorier/?category=${current_data.category}\" class=\"breadcrumbs__home_active\">${current_data.category}</a> \r\n                            / ${current_data.model}`;\r\n\r\n            product_box.appendChild(h4);\r\n\r\n            product_preview.className = \"product-preview\";\r\n            product_preview.innerHTML = `\r\n                <div class=\"preview-box\">\r\n                \r\n                    <div class=\"preview__image-box\">\r\n                        <img class=\"image-box__image\" src=\"${current_data.images[0]}\"\">\r\n                    </div>\r\n\r\n                </div>\r\n            `;\r\n\r\n            product_box.appendChild(product_preview);\r\n\r\n            product_description.className = \"product-description\";\r\n            product_description.innerHTML = `\r\n                <h2 class=\"heading__product-name\">${current_data.model}</h2>\r\n                <h4 class=\"link link__brand-link\">See other ${current_data.make} products</h4>\r\n                <div class=\"price-box\">\r\n                <h3 class=\"heading__product-price\">${current_data.price}</h3>              \r\n                </div>\r\n                <p class=\"text__product-description\">${current_data.description}</p>\r\n\r\n                <ul class=\"button-list product__button-list\">\r\n                    <li class=\"button-list__item\"><a class=\"button button_brown-button\">ask a question</a></li>\r\n                    <li class=\"button-list__item\"><a class=\"button button_brown-button\">part exchange</a></li>\r\n                    <li class=\"button-list__item\"><a class=\"button button_brown-button\">pay by finance</a></li>\r\n                    <li class=\"button-list__item\"><a class=\"button button_brown-button\">seen a better price?</a></li>\r\n                </ul>\r\n            `;\r\n\r\n            product_box.appendChild(product_description);\r\n\r\n            product_cart.className = \"product-cart\";\r\n            product_cart.innerHTML = `\r\n                <form class=\"product-form\">\r\n\r\n                    <fieldset class=\"product-form__variant\">\r\n\r\n                        <h3 class=\"product-variant__title\">Finish <span class=\"star\">*</span></h3>\r\n                        \r\n                        <div class=\"fetch-variant\"></div>\r\n\r\n                    </fieldset>\r\n\r\n                    <fieldset class=\"product-form__quantity\">\r\n\r\n                        <div class=\"product-form__quantity-box\">\r\n                            <label class=\"product-quantity__label\">Qty:</label>\r\n                            <input class=\"product-quantity__input\" type=\"number\" oninput=\"this.value=this.value.slice(0,this.maxLength)\" onkeypress=\"return isNumberKey(event)\" maxlength=\"2\" min=\"1\" max=\"99\" name=\"quantity\" value=\"1\">\r\n                            <button class=\"button product-form__submit button_brown-button\" type=\"submit\">add to cart</button>\r\n                            <p class=\"or\">-or-</p>\r\n                            <div class=\"paypal-button\" id=\"paypal-button\"></div>\r\n                        </div>\r\n\r\n                    </fieldset>\r\n\r\n                </form>\r\n            `;\r\n\r\n            product_box.appendChild(product_cart);\r\n\r\n            // current_data.arrays.finish.forEach(finish => {\r\n            //     let product_variant = document.querySelector(\".fetch-variant\")\r\n            //     let variant_box = document.createElement(\"div\");\r\n\r\n            //     variant_box.className = \"product-variant__variant-box\"\r\n            //     variant_box.innerHTML = `\r\n            //         <input class=\"product-variant__input\" type=\"radio\" name=\"variant\" value=\"${finish.text}\">\r\n            //         <label class=\"product-varaint__label\" for=\"black\">${finish.text}</label>\r\n            //     `;\r\n\r\n            //     product_variant.appendChild(variant_box);\r\n\r\n            // });\r\n\r\n            product_info.className = \"product-info\";\r\n            product_info.innerHTML = `\r\n                <h2 class=\"heading__product-info\">additional information</h2>\r\n\r\n                <table class=\"info-table product-info__info-table\"></table>\r\n            `;\r\n\r\n            product_box.appendChild(product_info);\r\n\r\n            // current_data.arrays.info.forEach(info => {\r\n            //     let info_table = document.querySelector(\".product-info__info-table\");\r\n            //     let table_row = document.createElement(\"tr\");\r\n\r\n            //     table_row.className = \"info-table__table-row\";\r\n            //     table_row.innerHTML = `\r\n            //         <td class=\"info-table__data-title\">${info.text}</td>\r\n            //         <td class=\"info-table__data-value\">${info.value}</td>\r\n            //     `;\r\n\r\n            //     info_table.appendChild(table_row);\r\n            // });\r\n\r\n            product_details.className = \"product-details\"\r\n            product_details.innerHTML = `\r\n                <h2 class=\"heading__product-details\">description</h2>\r\n\r\n                <table class=\"table product-detail__detail-table\"></table>\r\n            `;\r\n\r\n            product_box.appendChild(product_details);\r\n\r\n            // current_data.arrays.detail.forEach(detail => {\r\n            //     let detail_table = document.querySelector(\".product-detail__detail-table\");\r\n            //     let table_row = document.createElement(\"tr\");\r\n\r\n            //     table_row.className = \"detail-table__row\";\r\n            //     table_row.innerHTML = `\r\n            //         <td class=\"detail-table__data-title\">${detail.text}</td>\r\n            //         <td class=\"detail-table__data-value\">${detail.value}</td>\r\n            //     `;\r\n\r\n            //     detail_table.appendChild(table_row);\r\n            // });\r\n\r\n            product_call.className = \"product-call\";\r\n            product_call.innerHTML = `\r\n                <article class=\"product-call\">\r\n                    <button class=\"product-call__button\" href=\"tel:888-888\"><i class=\"fas fa-phone-alt\"></i> CALL US ABOUT THIS PRODUCT</button>\r\n                </article>\r\n            `;\r\n\r\n            product_box.appendChild(product_call);\r\n        })\r\n        .then(() => {\r\n\r\n            let preview = document.querySelector(\".image-box__image\");\r\n            var imgs = Array.from(document.querySelectorAll(\".thumb\"));\r\n            \r\n            imgs.forEach(thumb => {\r\n        \r\n                let thumbSrc = thumb.firstChild.getAttribute(\"src\");\r\n                \r\n                thumb.addEventListener(\"click\", () => {\r\n        \r\n                    preview.setAttribute(\"src\", thumbSrc);\r\n                })\r\n            });\r\n        })\r\n        .then(() => {\r\n            paypal.Button.render({\r\n                // Configure environment\r\n                env: 'sandbox',\r\n                client: {\r\n                  sandbox: 'demo_sandbox_client_id',\r\n                  production: 'demo_production_client_id'\r\n                },\r\n                // Customize button (optional)\r\n                locale: 'en_US',\r\n                style: {\r\n                  size: 'small',\r\n                  color: 'gold',\r\n                  shape: 'pill',\r\n                },\r\n            \r\n                // Enable Pay Now checkout flow (optional)\r\n                commit: true,\r\n            \r\n                // Set up a payment\r\n                payment: function(data, actions) {\r\n                  return actions.payment.create({\r\n                    transactions: [{\r\n                      amount: {\r\n                        total: '0.01',\r\n                        currency: 'USD'\r\n                      }\r\n                    }]\r\n                  });\r\n                },\r\n                // Execute the payment\r\n                onAuthorize: function(data, actions) {\r\n                  return actions.payment.execute().then(function() {\r\n                    // Show a confirmation message to the buyer\r\n                    window.alert('Thank you for your purchase!');\r\n                  });\r\n                }\r\n              }, '#paypal-button');\r\n        })\r\n});"],"file":"product_details.js"}