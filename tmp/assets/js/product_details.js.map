{"version":3,"sources":["product_details.js"],"names":["current_URL","window","location","search","search_params","URLSearchParams","params_id","parseInt","get","fetch","then","response","json","data","current_data","products","find","product","id","product_box","document","querySelector","product_preview","createElement","product_description","product_cart","product_info","product_details","product_call","h4","className","innerHTML","category","name","appendChild","image_folder","image","brand","price","sale","description","arrays","finish","forEach","product_variant","variant_box","text","info","info_table","table_row","value","detail","detail_table","preview","imgs","Array","from","querySelectorAll","thumb","thumbSrc","firstChild","getAttribute","addEventListener","setAttribute","paypal","Button","render","env","client","sandbox","production","locale","style","size","color","shape","commit","payment","actions","create","transactions","amount","total","currency","onAuthorize","execute","alert"],"mappings":"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","sourcesContent":["\n\n    let current_URL = window.location.search;\n    let search_params = new URLSearchParams(current_URL);\n    let params_id = parseInt(search_params.get(\"id\"));\n\n    fetch(\"https://hifi-corner.herokuapp.com/api/v1/products\", {\n        \"method\": \"GET\",\n        \"headers\": {}\n    })\n        .then(response => response.json())\n        .then(data => {\n\n            let current_data = data.products.find(product => product.id == params_id);\n            let product_box = document.querySelector(\".product-box\");\n            let product_preview = document.createElement(\"article\");\n            let product_description = document.createElement(\"article\");\n            let product_cart = document.createElement(\"article\");\n            let product_info = document.createElement(\"article\");\n            let product_details = document.createElement(\"article\");\n            let product_call = document.createElement(\"article\");\n            let h4 = document.createElement(\"h4\");\n\n            h4.className = \"product-breadcrumbs\"\n            h4.innerHTML = `<a href=\"kategoriliste.html\" class=\"breadcrumbs__home_active\">Home</a> / \n                            <a href=\"shop_kategorier.html?category=${current_data.category}\" class=\"breadcrumbs__home_active\">${current_data.category}</a> \n                            / ${current_data.name}`;\n\n            product_box.appendChild(h4);\n\n            product_preview.className = \"product-preview\";\n            product_preview.innerHTML = `\n                <div class=\"preview-box\">\n                \n                    <div class=\"preview__image-box\">\n                        <img class=\"image-box__image\" src=\"images/produktbilleder/${current_data.image_folder}/${current_data.image}\">\n                    </div>\n\n                    <h2 class=\"heading__preview-text\">more views</h2>\n\n                    <ul class=\"thumb-list preview-box__thumb-list\">\n                        <li class=\"thumb\"><img class=\"thumb__image\" src=\"images/produktbilleder/${current_data.image_folder}/${current_data.image}\"></li>\n                        <li class=\"thumb\"><img class=\"thumb__image\" src=\"images/category_list/cat_amplifyer.jpg\"></li>\n                        <li class=\"thumb\"><img class=\"thumb__image\" src=\"images/category_list/cat_cd_players.jpg\"></li>\n                        <li class=\"thumb\"><img class=\"thumb__image\" src=\"images/category_list/cat_vinyl.jpg\"></li>\n                    </ul>\n                </div>\n            `;\n\n            product_box.appendChild(product_preview);\n\n            product_description.className = \"product-description\";\n            product_description.innerHTML = `\n                <h2 class=\"heading__product-name\">${current_data.name}</h2>\n                <h4 class=\"link link__brand-link\">See other ${current_data.brand} products</h4>\n                <div class=\"price-box\">\n                <h3 class=\"heading__product-price\">${current_data.price}</h3>\n                <h2 class=\"heading__product-sale\">${current_data.sale}</h2>               \n                </div>\n                <p class=\"text__product-description\">${current_data.description}</p>\n\n                <ul class=\"button-list product__button-list\">\n                    <li class=\"button-list__item\"><a class=\"button button_brown-button\">ask a question</a></li>\n                    <li class=\"button-list__item\"><a class=\"button button_brown-button\">part exchange</a></li>\n                    <li class=\"button-list__item\"><a class=\"button button_brown-button\">pay by finance</a></li>\n                    <li class=\"button-list__item\"><a class=\"button button_brown-button\">seen a better price?</a></li>\n                </ul>\n            `;\n\n            product_box.appendChild(product_description);\n\n            product_cart.className = \"product-cart\";\n            product_cart.innerHTML = `\n                <form class=\"product-form\">\n\n                    <fieldset class=\"product-form__variant\">\n\n                        <h3 class=\"product-variant__title\">Finish <span class=\"star\">*</span></h3>\n                        \n                        <div class=\"fetch-variant\"></div>\n\n                    </fieldset>\n\n                    <fieldset class=\"product-form__quantity\">\n\n                        <div class=\"product-form__quantity-box\">\n                            <label class=\"product-quantity__label\">Qty:</label>\n                            <input class=\"product-quantity__input\" type=\"number\" oninput=\"this.value=this.value.slice(0,this.maxLength)\" onkeypress=\"return isNumberKey(event)\" maxlength=\"2\" min=\"1\" max=\"99\" name=\"quantity\" value=\"1\">\n                            <button class=\"button product-form__submit button_brown-button\" type=\"submit\">add to cart</button>\n                            <p class=\"or\">-or-</p>\n                            <div class=\"paypal-button\" id=\"paypal-button\"></div>\n                        </div>\n\n                    </fieldset>\n\n                </form>\n            `;\n\n            product_box.appendChild(product_cart);\n\n            current_data.arrays.finish.forEach(finish => {\n                let product_variant = document.querySelector(\".fetch-variant\")\n                let variant_box = document.createElement(\"div\");\n\n                variant_box.className = \"product-variant__variant-box\"\n                variant_box.innerHTML = `\n                    <input class=\"product-variant__input\" type=\"radio\" name=\"variant\" value=\"${finish.text}\">\n                    <label class=\"product-varaint__label\" for=\"black\">${finish.text}</label>\n                `;\n\n                product_variant.appendChild(variant_box);\n\n            });\n\n            product_info.className = \"product-info\";\n            product_info.innerHTML = `\n                <h2 class=\"heading__product-info\">additional information</h2>\n\n                <table class=\"info-table product-info__info-table\"></table>\n            `;\n\n            product_box.appendChild(product_info);\n\n            current_data.arrays.info.forEach(info => {\n                let info_table = document.querySelector(\".product-info__info-table\");\n                let table_row = document.createElement(\"tr\");\n\n                table_row.className = \"info-table__table-row\";\n                table_row.innerHTML = `\n                    <td class=\"info-table__data-title\">${info.text}</td>\n                    <td class=\"info-table__data-value\">${info.value}</td>\n                `;\n\n                info_table.appendChild(table_row);\n            });\n\n            product_details.className = \"product-details\"\n            product_details.innerHTML = `\n                <h2 class=\"heading__product-details\">description</h2>\n\n                <table class=\"table product-detail__detail-table\"></table>\n            `;\n\n            product_box.appendChild(product_details);\n\n            current_data.arrays.detail.forEach(detail => {\n                let detail_table = document.querySelector(\".product-detail__detail-table\");\n                let table_row = document.createElement(\"tr\");\n\n                table_row.className = \"detail-table__row\";\n                table_row.innerHTML = `\n                    <td class=\"detail-table__data-title\">${detail.text}</td>\n                    <td class=\"detail-table__data-value\">${detail.value}</td>\n                `;\n\n                detail_table.appendChild(table_row);\n            });\n\n            product_call.className = \"product-call\";\n            product_call.innerHTML = `\n                <article class=\"product-call\">\n                    <button class=\"product-call__button\" href=\"tel:888-888\"><i class=\"fas fa-phone-alt\"></i> CALL US ABOUT THIS PRODUCT</button>\n                </article>\n            `;\n\n            product_box.appendChild(product_call);\n        })\n        .then(() => {\n\n            let preview = document.querySelector(\".image-box__image\");\n            var imgs = Array.from(document.querySelectorAll(\".thumb\"));\n            \n            imgs.forEach(thumb => {\n        \n                let thumbSrc = thumb.firstChild.getAttribute(\"src\");\n                \n                thumb.addEventListener(\"click\", () => {\n        \n                    preview.setAttribute(\"src\", thumbSrc);\n                })\n            });\n        })\n        .then(() => {\n            paypal.Button.render({\n                // Configure environment\n                env: 'sandbox',\n                client: {\n                  sandbox: 'demo_sandbox_client_id',\n                  production: 'demo_production_client_id'\n                },\n                // Customize button (optional)\n                locale: 'en_US',\n                style: {\n                  size: 'small',\n                  color: 'gold',\n                  shape: 'pill',\n                },\n            \n                // Enable Pay Now checkout flow (optional)\n                commit: true,\n            \n                // Set up a payment\n                payment: function(data, actions) {\n                  return actions.payment.create({\n                    transactions: [{\n                      amount: {\n                        total: '0.01',\n                        currency: 'USD'\n                      }\n                    }]\n                  });\n                },\n                // Execute the payment\n                onAuthorize: function(data, actions) {\n                  return actions.payment.execute().then(function() {\n                    // Show a confirmation message to the buyer\n                    window.alert('Thank you for your purchase!');\n                  });\n                }\n              }, '#paypal-button');\n        })\n"],"file":"product_details.js"}